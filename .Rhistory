knitr::opts_chunk$set(echo = TRUE)
scotty <- read.csv("data/data-test.csv")
scotty
lubridate::ymd_hms(scotty$datetime)
scotty$datetime <- lubridate::ymd_hms(scotty$datetime)
scotty
scotty <- read.csv("data/data-train.csv")
scotty
library(tidyverse)
library(lubridate)
scotty <- select(start_time, src_sub_area)
scotty <- scotty %>% select(start_time, src_sub_area)
scotty
scotty$start_time <- ymd_hms(scotty$start_time)
scotty
floor_date(x = scotty$start_time)
head(floor_date(x = scotty$start_time, unit = "hour"))
floor_date()
head(floor_date(x = scotty$start_time, unit = "day"))
head(floor_date(x = scotty$start_time, unit = "minute"))
head(floor_date(x = scotty$start_time, unit = "second"))
head(floor_date(x = scotty$start_time, unit = "hour"))
head(floor_date(x = scotty$start_time, unit = "hour"), 10)
head(floor_date(x = scotty$start_time, unit = "minute"), 10)
head(floor_date(x = scotty$start_time, unit = "hour"), 10)
floor_date(x = scotty$start_time, unit = "hour")
scotty <- scotty %>%
mutate(datetime = floor_date(x = scotty$start_time, unit = "hour"))
floor_date()
scotty <- scotty %>%
mutate(datetime = floor_date(x = .$start_time, unit = "hour"))
floor_date()
scotty <- scotty %>%
mutate(datetime = floor_date(x = datetime, unit = "hour"))
scotty
scotty <- scotty %>%
mutate(datetime = floor_date(x = .$start_time, unit = "hour"))
scotty
scotty %>%
group_by(src_sub_area) %>%
summarise(demand = count(src_sub_area))
count(src_sub_area)
count(scotty$src_sub_area)
scotty %>%
group_by(datetime) %>%
summarise(demand = n_distinct(src_sub_area))
scotty %>%
group_by(src_sub_area, datetime) %>%
summarise(demand = n_distinct(src_sub_area))
install.packages("padr")
padr::pad(x = scotty)
padr::pad(x = scotty$datetime)
min_date <- min(scotty$datetime)
max_date <- max(scotty$datetime)
padr::pad(x = scotty, start_val = min_date, end_val = max_date)
scotty
scotty <- scotty %>%
group_by(src_sub_area, datetime) %>%
summarise(demand = n_distinct(src_sub_area))
scotty
scotty <- scotty %>%
mutate(datetime = floor_date(x = .$start_time, unit = "hour"))
scotty <- read.csv("data/data-train.csv")
scotty <- scotty %>% select(start_time, src_sub_area)
scotty$start_time <- ymd_hms(scotty$start_time)
scotty <- scotty %>%
mutate(datetime = floor_date(x = .$start_time, unit = "hour"))
scotty <- scotty %>%
group_by(src_sub_area, datetime) %>%
summarise(demand = n_distinct(src_sub_area))
scotty
start_val <- make_datetime(year = year(min_date), month = month(min_date), day = day(min_date), hour = hour(min_date))
end_val <- make_datetime(year = year(max_date), month = month(max_date), day = day(max_date), hour = hour(max_date))
padr::pad(x = scotty, start_val = start_val, end_val = end_val)
scotty <- read.csv("data/data-train.csv")
scotty <- scotty %>% select(start_time, src_sub_area)
scotty$start_time <- ymd_hms(scotty$start_time)
scotty <- scotty %>%
mutate(datetime = floor_date(x = .$start_time, unit = "hour"))
scotty <- scotty %>%
group_by(src_sub_area, datetime) %>%
summarise(demand = n(src_sub_area))
scotty <- scotty %>%
group_by(src_sub_area, datetime) %>%
summarise(demand = n(src_sub_area))
scotty <- scotty %>%
group_by(datetime) %>%
summarise(demand = n(src_sub_area))
scotty <- scotty %>%
group_by(src_sub_area, datetime) %>%
summarise(demand = n())
scotty
min_date <- min(scotty$datetime)
max_date <- max(scotty$datetime)
start_val <- make_datetime(year = year(min_date), month = month(min_date), day = day(min_date), hour = hour(min_date))
end_val <- make_datetime(year = year(max_date), month = month(max_date), day = day(max_date), hour = hour(max_date))
padr::pad(x = scotty, start_val = start_val, end_val = end_val)
scotty_pad <- padr::pad(x = scotty, start_val = start_val, end_val = end_val)
ts(scotty_pad)
scotty_ts <- ts(scotty_pad)
scotty_ts <- ts(scotty_pad)
head(scotty_ts)
scotty_ts <- ts(scotty_pad, frequency = 24)
head(scotty_ts)
scotty_ts <- ts(scotty_pad$demand, frequency = 24, start = c(2017,10,1))
head(scotty_ts)
scotty_ts
scotty_ts <- ts(scotty_pad$demand, frequency = 24)
head(scotty_ts)
scotty_pad
scotty_ts
scotty_pad %>%
replace_na(0)
scotty_pad %>%
mutate(replace_na(0))
scotty_pad %>%
replace_na(0)
replace_na(scotty_pad, 0)
replace_na(scotty_pad$demand, 0)
scotty_pad$demand <- replace_na(scotty_pad$demand, 0)
scotty_pad
